{# This template is for a daily overview. #}

{% extends "base.html" %}
{% block title %}Weather for {{ data.this_month }}{% endblock %}
{% block content %}

    <h1>Weather for {{ data.this_month }}</h1>
    <hr>
    <center>
        {% if data.current_data %}<a href="#current">Current Conditions</a> |{% endif %}
        <a href="#days">Days for this Month</a> |
        <a href="#records">Records</a> |
        <a href="#charts">Charts</a>
    </center>

    <a name="days">
    <h2>Days for {{ data.this_month }} {{ data.year_stamp }}</h2>
    <p>
        {% set i = 0 %}
        {% for day in data.days %}
            {% set i = i + 1 %}
            <a href="{{ day }}/">{{ day }}</a> {% if i < data.days|length %}|{% endif %}
        {% endfor %}
    </p>

    <a name="records">
    <h2>Records</h2>
    <table border=2>
        <tr bgcolor="lightseagreen">
            <td><b>Sensor</b></td>
            <td><b>Min</b></td>
            <td><b>Max</b></td>
        </tr>
        <tr bgcolor="blanchedalmond">
            <td>Temperature</td>
            <td>{{ data.records.min_temperature|round(1) }}°C at {{ data.records.min_temperature_ts }}</td>
            <td>{{ data.records.max_temperature|round(1) }}°C at {{ data.records.max_temperature_ts }}</td>
        </tr>
        <tr bgcolor="blanchedalmond">
            <td>Wind Chill</td>
            <td>{{ data.records.min_wind_chill|round(1) }}°C at {{ data.records.min_wind_chill_ts }}</td>
            <td>{{ data.records.max_wind_chill|round(1) }}°C at {{ data.records.max_wind_chill_ts }}</td>
        </tr>
        <tr bgcolor="blanchedalmond">
            <td>Apparent Temperature</td>
            <td>{{ data.records.min_apparent_temperature|round(1) }}°C at {{ data.records.min_apparent_temperature_ts }}</td>
            <td>{{ data.records.max_apparent_temperature|round(1) }}°C at {{ data.records.max_apparent_temperature_ts }}</td>
        </tr>
        <tr bgcolor="blanchedalmond">
            <td>Dew Point</td>
            <td>{{ data.records.min_dew_point|round(1) }}°C at {{ data.records.min_dew_point_ts }}</td>
            <td>{{ data.records.max_dew_point|round(1) }}°C at {{ data.records.max_dew_point_ts }}</td>
        </tr>
        <tr bgcolor="blanchedalmond">
            <td>Absolute Pressure</td>
            <td>{{ data.records.min_absolute_pressure|round(1) }} Hpa at {{ data.records.min_absolute_pressure_ts }}</td>
            <td>{{ data.records.max_absolute_pressure|round(1) }} Hpa at {{ data.records.max_absolute_pressure_ts }}</td>
        </tr>
        <tr bgcolor="blanchedalmond">
            <td>Relative Humidity</td>
            <td>{{ data.records.min_humidity }}% at {{ data.records.min_humidity_ts }}</td>
            <td>{{ data.records.max_humidity }}% at {{ data.records.max_humidity_ts }}</td>
        </tr>
        <tr>
            <td bgcolor="blanchedalmond">Gust Wind Speed</td>
            <td></td>
            <td bgcolor="blanchedalmond">{{ data.records.max_gust_wind_speed|round(1) }} m/s at {{ data.records.max_gust_wind_speed_ts }}</td>
        </tr>
        <tr>
            <td bgcolor="blanchedalmond">Average Wind Speed</td>
            <td></td>
            <td bgcolor="blanchedalmond">{{ data.records.max_average_wind_speed|round(1) }} m/s at {{ data.records.max_average_wind_speed_ts }}</td>
        </tr>
    </table>
    <p>Total Rainfall: {{ data.records.total_rainfall|round(1) }}mm</p>

    <a name="charts">
    <h2>Monthly Charts</h2>
    <a href="temperature_tdp_large.png"><img src="temperature_tdp.png" alt="[Month Temperature and Dew Point]"></a>
    <a href="temperature_awc_large.png"><img src="temperature_awc.png" alt="[Month Apparent Temperature and Wind Chill]"></a>
    <a href="humidity_large.png"><img src="humidity.png" alt="[Month Humidity]"></a>
    <a href="pressure_large.png"><img src="pressure.png" alt="[Month Pressure]"></a>

    <br>
    <a href="gnuplot_data.dat">gnuplot data</a>

    <hr>
    <center>
        {% if data.prev_url %}
            <a href="{{ data.prev_url }}">&lt;&lt; {{ data.prev_month }} {{ data.prev_year }}</a>
        {% else %}
            &lt;&lt; {{ data.prev_month }} {{ data.prev_year }}
        {% endif %}
        |
        <a href="../">{{ data.this_year }}</a>
        |
        {% if data.next_url %}
            <a href="{{ data.next_url }}">{{ data.next_month }} {{ data.next_year }} &gt;&gt;</a>
        {% else %}
            {{ data.next_month }} {{ data.next_year }} &gt;&gt;
        {% endif %}
        <br>
        <a href="../../now">Today</a>
    </center>

{% endblock %}
